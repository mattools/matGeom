<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of drawCube</title>
  <meta name="keywords" content="drawCube">
  <meta name="description" content="DRAWCUBE Draw a 3D centered cube, eventually rotated.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003-2019 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">Home</a> &gt;  <a href="../index.html">matGeom</a> &gt; <a href="index.html">geom3d</a> &gt; drawCube.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for matGeom\geom3d&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>drawCube
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>DRAWCUBE Draw a 3D centered cube, eventually rotated.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function varargout = drawCube(varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">DRAWCUBE Draw a 3D centered cube, eventually rotated.

   drawCube(CUBE)
   Displays a 3D cube on current axis. CUBE is given by:
   [XC YC ZC SIDE THETA PHI PSI]
   where (XC, YC, ZC) is the CUBE center, SIDE is the length of the cube
   main sides, and THETA PHI PSI are angles representing the cube
   orientation, in degrees. THETA is the colatitude of the cube, between 0
   and 90 degrees, PHI is the azimut, and PSI is the rotation angle
   around the axis of the normal (see file angles3d.m).

   CUBE can be axis-aligned (also called 'isothetic cube'). In this case
   it should only contain center and side information:
   CUBE = [XC YC ZC SIDE]

   The function drawCuboid is closely related, but uses a different angle
   convention, and allows for different sizes along directions.

   Example
   % Draw a cube with small rotations
     figure; hold on;
     drawCube([10 20 30  50  10 20 30], 'FaceColor', 'g');
     axis equal;
     view(3);

   See also
   <a href="angles3d.html" class="code" title="function angles3d(varargin)">angles3d</a>, meshes3d, polyhedra, createCube, <a href="drawCuboid.html" class="code" title="function varargout = drawCuboid(varargin)">drawCuboid</a></pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="createRotationOy.html" class="code" title="function trans = createRotationOy(varargin)">createRotationOy</a>	CREATEROTATIONOY Create the 4x4 matrix of a 3D rotation around y-axis.</li><li><a href="createRotationOz.html" class="code" title="function trans = createRotationOz(varargin)">createRotationOz</a>	CREATEROTATIONOZ Create the 4x4 matrix of a 3D rotation around z-axis.</li><li><a href="createScaling3d.html" class="code" title="function trans = createScaling3d(varargin)">createScaling3d</a>	CREATESCALING3D Create the 4x4 matrix of a 3D scaling.</li><li><a href="createTranslation3d.html" class="code" title="function trans = createTranslation3d(varargin)">createTranslation3d</a>	CREATETRANSLATION3D Create the 4x4 matrix of a 3D translation.</li><li><a href="transformPoint3d.html" class="code" title="function varargout = transformPoint3d(pts, transfo, varargin)">transformPoint3d</a>	TRANSFORMPOINT3D Transform a point with a 3D affine transform.</li><li><a href="../../matGeom/meshes3d/createCube.html" class="code" title="function varargout = createCube()">createCube</a>	CREATECUBE Create a 3D mesh representing the unit cube.</li><li><a href="../../matGeom/meshes3d/drawMesh.html" class="code" title="function varargout = drawMesh(varargin)">drawMesh</a>	DRAWMESH Draw a 3D mesh defined by vertex and face arrays.</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function varargout = drawCube(varargin)</a>
0002 <span class="comment">%DRAWCUBE Draw a 3D centered cube, eventually rotated.</span>
0003 <span class="comment">%</span>
0004 <span class="comment">%   drawCube(CUBE)</span>
0005 <span class="comment">%   Displays a 3D cube on current axis. CUBE is given by:</span>
0006 <span class="comment">%   [XC YC ZC SIDE THETA PHI PSI]</span>
0007 <span class="comment">%   where (XC, YC, ZC) is the CUBE center, SIDE is the length of the cube</span>
0008 <span class="comment">%   main sides, and THETA PHI PSI are angles representing the cube</span>
0009 <span class="comment">%   orientation, in degrees. THETA is the colatitude of the cube, between 0</span>
0010 <span class="comment">%   and 90 degrees, PHI is the azimut, and PSI is the rotation angle</span>
0011 <span class="comment">%   around the axis of the normal (see file angles3d.m).</span>
0012 <span class="comment">%</span>
0013 <span class="comment">%   CUBE can be axis-aligned (also called 'isothetic cube'). In this case</span>
0014 <span class="comment">%   it should only contain center and side information:</span>
0015 <span class="comment">%   CUBE = [XC YC ZC SIDE]</span>
0016 <span class="comment">%</span>
0017 <span class="comment">%   The function drawCuboid is closely related, but uses a different angle</span>
0018 <span class="comment">%   convention, and allows for different sizes along directions.</span>
0019 <span class="comment">%</span>
0020 <span class="comment">%   Example</span>
0021 <span class="comment">%   % Draw a cube with small rotations</span>
0022 <span class="comment">%     figure; hold on;</span>
0023 <span class="comment">%     drawCube([10 20 30  50  10 20 30], 'FaceColor', 'g');</span>
0024 <span class="comment">%     axis equal;</span>
0025 <span class="comment">%     view(3);</span>
0026 <span class="comment">%</span>
0027 <span class="comment">%   See also</span>
0028 <span class="comment">%   angles3d, meshes3d, polyhedra, createCube, drawCuboid</span>
0029 <span class="comment">%</span>
0030 
0031 <span class="comment">% ------</span>
0032 <span class="comment">% Author: David Legland</span>
0033 <span class="comment">% E-mail: david.legland@inrae.fr</span>
0034 <span class="comment">% Created: 2011-06-29, using Matlab 7.9.0.529 (R2009b)</span>
0035 <span class="comment">% Copyright 2011-2024 INRA - Cepia Software Platform</span>
0036 
0037 <span class="comment">% extract handle of axis to draw on</span>
0038 [hAx, varargin] = parseAxisHandle(varargin{:});
0039 
0040 cube = varargin{1};
0041 varargin(1) = [];
0042 
0043 <span class="comment">% default values</span>
0044 xc    = 0;
0045 yc    = 0;
0046 zc    = 0;
0047 a     = 1;
0048 theta = 0;
0049 phi   = 0;
0050 psi   = 0;
0051 
0052 <span class="comment">%% Parses the input</span>
0053 <span class="keyword">if</span> nargin &gt; 0
0054     <span class="comment">% one argument: parses elements</span>
0055     xc  = cube(:,1);
0056     yc  = cube(:,2);
0057     zc  = cube(:,3);
0058     <span class="comment">% parses side length if present</span>
0059     <span class="keyword">if</span> size(cube, 2) &gt;= 4
0060         a   = cube(:,4);
0061     <span class="keyword">end</span>
0062     <span class="comment">% parses orientation if present</span>
0063     <span class="keyword">if</span> size(cube, 2) &gt;= 6
0064         theta = deg2rad(cube(:,5));
0065         phi   = deg2rad(cube(:,6));
0066     <span class="keyword">end</span>
0067     <span class="keyword">if</span> size(cube, 2) &gt;= 7
0068         psi   = deg2rad(cube(:,7));
0069     <span class="keyword">end</span>
0070 <span class="keyword">end</span>
0071 
0072 
0073 <span class="comment">%% Compute cube coordinates</span>
0074 
0075 <span class="comment">% create unit centered cube</span>
0076 [v, f] = <a href="../../matGeom/meshes3d/createCube.html" class="code" title="function varargout = createCube()">createCube</a>;
0077 v = bsxfun(@minus, v, mean(v, 1));
0078 
0079 <span class="comment">% convert unit basis to cube basis</span>
0080 sca     = <a href="createScaling3d.html" class="code" title="function trans = createScaling3d(varargin)">createScaling3d</a>(a);
0081 rot1    = <a href="createRotationOz.html" class="code" title="function trans = createRotationOz(varargin)">createRotationOz</a>(psi);
0082 rot2    = <a href="createRotationOy.html" class="code" title="function trans = createRotationOy(varargin)">createRotationOy</a>(theta);
0083 rot3    = <a href="createRotationOz.html" class="code" title="function trans = createRotationOz(varargin)">createRotationOz</a>(phi);
0084 tra     = <a href="createTranslation3d.html" class="code" title="function trans = createTranslation3d(varargin)">createTranslation3d</a>([xc yc zc]);
0085 
0086 <span class="comment">% concatenate transforms</span>
0087 trans   = tra * rot3 * rot2 * rot1 * sca;
0088 
0089 <span class="comment">% transform mesh vertices</span>
0090 v = <a href="transformPoint3d.html" class="code" title="function varargout = transformPoint3d(pts, transfo, varargin)">transformPoint3d</a>(v, trans);
0091 
0092 
0093 <span class="comment">%% Process output</span>
0094 <span class="keyword">if</span> nargout == 0
0095     <span class="comment">% no output: draw the cube</span>
0096     <a href="../../matGeom/meshes3d/drawMesh.html" class="code" title="function varargout = drawMesh(varargin)">drawMesh</a>(hAx, v, f, varargin{:});
0097     
0098 <span class="keyword">elseif</span> nargout == 1
0099     <span class="comment">% one output: draw the cube and return handle</span>
0100     varargout{1} = <a href="../../matGeom/meshes3d/drawMesh.html" class="code" title="function varargout = drawMesh(varargin)">drawMesh</a>(hAx, v, f, varargin{:});
0101     
0102 <span class="keyword">elseif</span> nargout == 3
0103     <span class="comment">% 3 outputs: return computed coordinates</span>
0104     varargout{1} = v(:,1); 
0105     varargout{2} = v(:,2); 
0106     varargout{3} = v(:,3); 
0107 <span class="keyword">end</span>
0108</pre></div>
<hr><address>Generated on Thu 21-Nov-2024 11:30:22 by <strong><a href="https://github.com/gllmflndn/m2html">m2html</a></strong> &copy; 2003-2022</address>
</body>
</html>